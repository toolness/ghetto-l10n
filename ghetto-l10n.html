<head>
  <title>Ghetto Localization Editor</title>
</head>

<body>
  <div class="container">
    <h1>Ghetto Localization Editor</h1>
    {{> main}}
  </div>
</body>

<template name="stringRow">
  <tr>
    <td><code>{{key}}</code><p class="muted"><small>{{{help}}}</small></p></td>
    <td><pre class="pre-scrollable">{{rootValue}}</pre></td>
    <td class="localized-col">
      {{#if editing}}
      <textarea id="edit">{{localizedValue}}</textarea>
      {{else}}
      <pre class="pre-scrollable display">{{localizedValue}}</pre>
      {{/if}}
    </td>
  </tr>
</template>

<template name="moduleTable">
  <h3><span class="muted">module</span> {{id}}</h3>
  <p>{{{description}}}</p>
  <table class="table">
    <tr>
      <th>Key</th>
      <th>Base Value</th>
      <th class="localized-col">Localized Value</th>
    </tr>
    {{#each strings}}
    {{> stringRow}}
    {{/each}}
  </table>
</template>

<template name="main">
  {{#if locale}}
    <h2><span class="muted">locale</span> {{locale}}</h2>
    {{#each modules}}
      {{> moduleTable}}
    {{/each}}
  {{else}}
  <p>Choose a locale, bro.</p>
  <ul>
    <li><a href="/en">English</a></li>
  </ul>
  {{/if}}
</template>
